{
  "openapi":"3.0.3",
  "info":{
    "title":"P&I Data Management Service",
    "description":"Use this service to  manage data based on data governance, retention and security policies. You can find out more about how the code works at https://github.com/hmcts/pip-data-management",
    "contact":{
      "name":"P&I Team",
      "url":"https://tools.hmcts.net/confluence/display/PUBH/Publication+Hub",
      "email":"publicationinformation@hmcts.net"
    },
    "version":"1.0.0"
  },
  "servers":[
    {
      "url":"https://pip-data-management.staging.platform.hmcts.net",
      "description":"Inferred Url"
    }
  ],
  "tags":[
    {
      "name":"Data Management Publications API",
      "description":"Publication Controller"
    }
  ],
  "paths":{
    "/publication":{
      "post":{
        "tags":[
          "Data Management Publications API"
        ],
        "summary":"Upload a new publication",
        "operationId":"uploadPublicationUsingPOST_1",
        "parameters":[
          {
            "name":"x-provenance",
            "in":"header",
            "description":"x-provenance",
            "required":true,
            "schema":{
              "type":"string"
            }
          },
          {
            "name":"x-source-artefact-id",
            "in":"header",
            "description":"x-source-artefact-id",
            "required":false,
            "schema":{
              "type":"string"
            }
          },
          {
            "name":"x-type",
            "in":"header",
            "description":"x-type",
            "required":true,
            "schema":{
              "type":"string",
              "enum":[
                "GENERAL_PUBLICATION",
                "JUDGEMENTS_AND_OUTCOMES",
                "LIST"
              ]
            }
          },
          {
            "name":"x-sensitivity",
            "in":"header",
            "description":"x-sensitivity",
            "required":false,
            "schema":{
              "type":"string",
              "enum":[
                "CLASSIFIED",
                "INTERNAL",
                "PRIVATE",
                "PUBLIC"
              ]
            }
          },
          {
            "name":"x-language",
            "in":"header",
            "description":"x-language",
            "required":true,
            "schema":{
              "type":"string",
              "enum":[
                "BI_LINGUAL",
                "ENGLISH",
                "WELSH"
              ]
            }
          },
          {
            "name":"x-display-from",
            "in":"header",
            "description":"x-display-from",
            "required":false,
            "schema":{
              "type":"string",
              "format":"date-time"
            }
          },
          {
            "name":"x-display-to",
            "in":"header",
            "description":"x-display-to",
            "required":false,
            "schema":{
              "type":"string",
              "format":"date-time"
            }
          },
          {
            "name":"x-list-type",
            "in":"header",
            "description":"x-list-type",
            "required":true,
            "schema":{
              "type":"string",
              "enum":[
                "CIVIL_DAILY_CAUSE_LIST",
                "CROWN_DAILY_LIST",
                "CROWN_FIRM_LIST",
                "CROWN_WARNED_LIST",
                "FAMILY_DAILY_CAUSE_LIST",
                "CIVIL_AND_FAMILY_DAILY_CAUSE_LIST",
                "MAGISTRATES_PUBLIC_LIST",
                "MAGISTRATES_STANDARD_LIST",
                "SJP_PRESS_LIST",
                "SJP_PUBLIC_LIST",
                "SSCS_DAILY_LIST",
                "ET_FORTNIGHTLY_PRESS_LIST",
                "ET_DAILY_LIST",
                "IAC_DAILY_LIST",
                "CARE_STANDARDS_LIST",
                "PRIMARY_HEALTH_LIST"
              ]
            }
          },
          {
            "name":"x-court-id",
            "in":"header",
            "description":"x-court-id",
            "required":true,
            "schema":{
              "type":"string"
            }
          },
          {
            "name":"x-content-date",
            "in":"header",
            "description":"x-content-date",
            "required":true,
            "schema":{
              "type":"string",
              "format":"date-time"
            }
          }
        ],
        "requestBody":{
          "content":{
            "multipart/form-data":{
              "schema":{
                "required":[
                  "file"
                ],
                "type":"object",
                "properties":{
                  "file":{
                    "type":"string",
                    "description":"file",
                    "format":"binary"
                  }
                }
              }
            },
            "application/json":{
              "schema":{
                "required":[
                  "string"
                ],
                "type":"string"
              }
            }
          }
        },
        "responses":{
          "200":{
            "description":"OK",
            "content":{
              "*/*":{
                "schema":{
                  "$ref":"#/components/schemas/Artefact"
                }
              },
              "multipart/form-data":{
                "schema":{
                  "$ref":"#/components/schemas/Artefact"
                }
              }
            }
          },
          "201":{
            "description":"Artefact.class instance for the artefact that has been created"
          }
        }
      }
    },
    "/":{
      "get":{
        "tags":[
          "Data Management Publications API"
        ],
        "summary":"Get Welcome",
        "operationId":"getWelcome",
        "parameters":[],
        "responses":{
          "200":{
            "description":"OK",
            "content":{
              "*/*":{
                "schema":{
                  "$ref":"#/components/schemas/Artefact"
                }
              },
              "multipart/form-data":{
                "schema":{
                  "$ref":"#/components/schemas/Artefact"
                }
              }
            }
          },
          "201":{
            "description":"Artefact.class instance for the artefact that has been created"
          }
        }
      }
    }
  },
  "components":{
    "schemas":{
      "Artefact":{
        "title":"Artefact",
        "type":"object",
        "properties":{
          "artefactId":{
            "type":"string",
            "format":"uuid"
          },
          "contentDate":{
            "type":"string",
            "format":"date-time"
          },
          "courtId":{
            "type":"string"
          },
          "displayFrom":{
            "type":"string",
            "format":"date-time"
          },
          "displayTo":{
            "type":"string",
            "format":"date-time"
          },
          "isFlatFile":{
            "type":"boolean"
          },
          "language":{
            "type":"string",
            "enum":[
              "BI_LINGUAL",
              "ENGLISH",
              "WELSH"
            ]
          },
          "listType":{
            "type":"string",
            "enum":[
              "CIVIL_DAILY_CAUSE_LIST",
              "CROWN_DAILY_LIST",
              "CROWN_FIRM_LIST",
              "CROWN_WARNED_LIST",
              "FAMILY_DAILY_CAUSE_LIST",
              "CIVIL_AND_FAMILY_DAILY_CAUSE_LIST",
              "MAGISTRATES_PUBLIC_LIST",
              "MAGS_STANDARD_LIST",
              "SJP_PRESS_LIST",
              "SJP_PUBLIC_LIST",
              "SSCS_DAILY_LIST"
            ]
          },
          "payload":{
            "type":"string"
          },
          "provenance":{
            "type":"string"
          },
          "search":{
            "type":"object",
            "additionalProperties":{
              "type":"array",
              "items":{
                "type":"object"
              }
            }
          },
          "sensitivity":{
            "type":"string",
            "enum":[
              "CLASSIFIED",
              "INTERNAL",
              "PRIVATE",
              "PUBLIC"
            ]
          },
          "sourceArtefactId":{
            "type":"string"
          },
          "type":{
            "type":"string",
            "enum":[
              "GENERAL_PUBLICATION",
              "JUDGEMENTS_AND_OUTCOMES",
              "LIST"
            ]
          }
        }
      }
    }
  }
}
